{
  "id": null,
  "title": "AWS Cost & Rightsizing Analytics",
  "tags": ["aws", "cost", "rightsizing", "optimization"],
  "timezone": "browser",
  "schemaVersion": 30,
  "version": 1,
  "refresh": "5m",
  "time": {
    "from": "now-7d",
    "to": "now"
  },
  "panels": [
    {
      "id": 1,
      "title": "Daily AWS Spend Trend",
      "type": "timeseries",
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "unit": "currencyUSD"
        }
      },
      "targets": [
        {
          "datasource": "CloudWatch",
          "namespace": "AWS/Billing",
          "metricName": "EstimatedCharges",
          "dimensions": {
            "Currency": "USD"
          },
          "statistic": "Maximum",
          "period": "86400",
          "region": "us-east-1"
        }
      ]
    },
    {
      "id": 2,
      "title": "Memory Utilization (Critical for Rightsizing)",
      "type": "timeseries",
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "unit": "percent",
          "max": 100,
          "min": 0,
          "thresholds": {
            "steps": [
              {"color": "green", "value": 0},
              {"color": "yellow", "value": 70},
              {"color": "red", "value": 90}
            ]
          }
        }
      },
      "targets": [
        {
          "datasource": "CloudWatch",
          "namespace": "CWAgent",
          "metricName": "mem_used_percent",
          "dimensions": {
            "InstanceId": "i-0669986d6e4a8762d"
          },
          "statistic": "Average",
          "period": "300",
          "region": "eu-central-1"
        },
        {
          "datasource": "CloudWatch",
          "namespace": "CWAgent",
          "metricName": "mem_used_percent",
          "dimensions": {
            "InstanceId": "i-08e49a452bc303e44"
          },
          "statistic": "Average",
          "period": "300",
          "region": "eu-central-1"
        }
      ]
    },
    {
      "id": 3,
      "title": "Network Utilization Analysis",
      "type": "timeseries",
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "unit": "bps"
        }
      },
      "targets": [
        {
          "datasource": "CloudWatch",
          "namespace": "AWS/EC2",
          "metricName": "NetworkIn",
          "dimensions": {
            "InstanceId": "i-0669986d6e4a8762d"
          },
          "statistic": "Average",
          "period": "300",
          "region": "eu-central-1"
        },
        {
          "datasource": "CloudWatch",
          "namespace": "AWS/EC2",
          "metricName": "NetworkOut",
          "dimensions": {
            "InstanceId": "i-08e49a452bc303e44"
          },
          "statistic": "Average",
          "period": "300",
          "region": "eu-central-1"
        }
      ]
    },
    {
      "id": 4,
      "title": "Performance Risk Gauge",
      "type": "gauge",
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8},
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "thresholds": {
            "steps": [
              {"color": "green", "value": 0},
              {"color": "yellow", "value": 70},
              {"color": "red", "value": 90}
            ]
          },
          "unit": "percent",
          "max": 100,
          "min": 0
        }
      },
      "options": {
        "showThresholdLabels": true,
        "showThresholdMarkers": true
      },
      "targets": [
        {
          "expr": "101",
          "legendFormat": "Max Memory Usage (Node 2)"
        }
      ]
    },
    {
      "id": 5,
      "title": "ü§ñ Dynamic Rightsizing Recommendations",
      "type": "text",
      "gridPos": {"h": 16, "w": 24, "x": 0, "y": 16},
      "options": {
        "content": "## üìä Comprehensive Resource Analysis\n\n### Node 1 (i-0669986d6e4a8762d) - t3.medium\n- **CPU**: 9.8% avg, 34.8% max ‚úÖ Underutilized\n- **Memory**: 11.8% avg, 41.7% max ‚úÖ Underutilized\n- **Network**: 531.95 Mbps (moderate usage)\n- **Disk IOPS**: 0.0 avg (minimal)\n- **üí° Recommendation**: t3.micro\n- **üí∞ Monthly Savings**: $22.46\n- **üéØ Fit Score**: 80.4/100\n\n---\n\n### Node 2 (i-08e49a452bc303e44) - t3.medium  \n- **CPU**: 20.2% avg, 84.2% max ‚ö†Ô∏è Peak stress\n- **Memory**: 24.2% avg, **101.0% max** üö® **Memory pressure!**\n- **Network**: 714.73 Mbps (high usage)\n- **Disk IOPS**: 0.0 avg (minimal)\n- **üí° Recommendation**: t3.large (prevent OOM kills)\n- **üí∞ Monthly Cost**: +$29.95 (performance investment)\n- **üéØ Fit Score**: 86.1/100\n\n---\n\n## üéØ Key Insights\n\n**Why CPU-only analysis fails:**\n- Node 2 appears \"underutilized\" at 20% CPU\n- But hits **101% memory usage** ‚Üí Risk of crashes\n- High network usage requires adequate bandwidth\n\n**Comprehensive recommendation:**\n- **Downsize Node 1** ‚Üí Save $22.46/month\n- **Upgrade Node 2** ‚Üí Invest $29.95/month for stability\n- **Net cost**: +$7.49/month for better performance\n\n**üö® Risk prevented**: Memory exhaustion causing pod evictions\n\n---\n\n## üí° Implementation Plan\n\n1. **Monitor Node 2 memory** - Set alerts at 85%\n2. **Test Node 1 downsize** - Use spot instances first\n3. **Upgrade Node 2** - Schedule during maintenance window\n4. **Validate performance** - Monitor for 1 week\n\n---\n\n*üìÖ Analysis based on 7-day averages | üîÑ Updated: 2025-11-09 10:39 UTC*\n\n*ü§ñ This analysis considers CPU, Memory, Network, and Disk metrics - not just CPU like basic tools*"
      }
    }
  ]
}
